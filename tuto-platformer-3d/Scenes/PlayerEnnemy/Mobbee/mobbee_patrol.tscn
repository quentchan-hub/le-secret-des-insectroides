[gd_scene load_steps=20 format=3 uid="uid://h50wrxqsr37n"]

[ext_resource type="Script" uid="uid://chub0sriajy8h" path="res://Scripts/MobbeePatrol.cs" id="1_eykox"]
[ext_resource type="PackedScene" uid="uid://cfsudilg3upkg" path="res://Scenes/PlayerEnnemy/Mobbee/Mobeebot_skin.tscn" id="2_hjkvs"]
[ext_resource type="Animation" uid="uid://cpgwp0uh3iak3" path="res://Prefabs/Idle.res" id="3_hk1x7"]
[ext_resource type="Animation" uid="uid://dyo2ohm157l7d" path="res://Prefabs/head_movement.res" id="4_d1dbq"]
[ext_resource type="Animation" uid="uid://wogjtkiv14tf" path="res://Prefabs/power_off.res" id="5_sjf8s"]
[ext_resource type="Animation" uid="uid://byaba4lysqsw0" path="res://Prefabs/spit_attack.res" id="6_5gp7y"]
[ext_resource type="Animation" uid="uid://bqprpxg0a2kjd" path="res://Assets/shared/models/bee_bot/custom_animations/light_shutdown.tres" id="7_c451r"]

[sub_resource type="Animation" id="Animation_xi1t7"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Armature/Skeleton3D/bee_bot2:surface_material_override/2:shader_parameter/intensity")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [2.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Armature/Skeleton3D/bee_bot2:surface_material_override/3:shader_parameter/global_intensity")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [1.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Armature/Skeleton3D/bee_bot2:surface_material_override/1:emission_energy_multiplier")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [1.5]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_mrxlu"]
_data = {
&"Idle": ExtResource("3_hk1x7"),
&"RESET": SubResource("Animation_xi1t7"),
&"head_movement": ExtResource("4_d1dbq"),
&"power_off": ExtResource("5_sjf8s"),
&"spit_attack": ExtResource("6_5gp7y")
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_dh75t"]
_data = {
&"light_shutdown": ExtResource("7_c451r")
}

[sub_resource type="BoxShape3D" id="BoxShape3D_xvs3m"]
size = Vector3(0.3209839, 0.06311798, 0.32792664)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_ui4nm"]
height = 0.23625183
radius = 0.18310547

[sub_resource type="SphereShape3D" id="SphereShape3D_hjkvs"]
radius = 0.13516718

[sub_resource type="BoxShape3D" id="BoxShape3D_hhh4q"]
size = Vector3(0.27734375, 0.24839401, 0.33130455)

[sub_resource type="SphereShape3D" id="SphereShape3D_hk1x7"]
radius = 0.15154769

[sub_resource type="Curve3D" id="Curve3D_ecuma"]
closed = true
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -0.07529783, 0.25226068, 0.6136713, 0, 0, 0, 0, 0, 0, -1.0751345, 1.6497326, 2.828475, 0, 0, 0, 0, 0, 0, 1.4381851, 0.14973259, 0.31685734, 0, 0, 0, 0, 0, 0, 0.6678231, 0.14973259, -2.0217419, 0, 0, 0, 0, 0, 0, -3.338002, 0.14973259, 0.34011555),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0)
}
point_count = 5

[sub_resource type="Animation" id="Animation_b6mbc"]
resource_name = "Patrouille"
length = 15.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Path3D/PathFollow3D:progress_ratio")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 15),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 1.0]
}

[sub_resource type="Animation" id="Animation_eykox"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Path3D/PathFollow3D:progress_ratio")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [1.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_8m56a"]
_data = {
&"Patrouille": SubResource("Animation_b6mbc"),
&"RESET": SubResource("Animation_eykox")
}

[node name="MobbeePatrol" type="Node3D" node_paths=PackedStringArray("bee_Bot2", "aniPlayer", "aniPlayerBee")]
script = ExtResource("1_eykox")
bee_Bot2 = NodePath("Mobbee/BeebotSkin/bee_bot/Armature/Skeleton3D/bee_bot2")
aniPlayer = NodePath("AnimationPlayer")
aniPlayerBee = NodePath("Mobbee/BeebotSkin/bee_bot/AnimationPlayer")

[node name="Mobbee" type="CharacterBody3D" parent="."]
transform = Transform3D(-0.0835496, 0, -0.99650174, 0, 1.0000001, 0, 0.99649566, 0, -0.0835501, -0.07529786, 0.25226068, 0.61367124)
collision_layer = 4

[node name="BeebotSkin" parent="Mobbee" instance=ExtResource("2_hjkvs")]

[node name="Skeleton3D" parent="Mobbee/BeebotSkin/bee_bot/Armature" index="0"]
bones/4/rotation = Quaternion(-0.4744359, 0.15447298, -0.13915998, 0.8553848)
bones/5/rotation = Quaternion(0.80971014, -7.2516304e-09, 9.51585e-09, 0.5868301)
bones/7/rotation = Quaternion(-0.4744359, -0.15447298, 0.13915998, 0.8553848)
bones/8/rotation = Quaternion(0.80971014, 7.2517317e-09, -9.515732e-09, 0.5868301)
bones/10/rotation = Quaternion(-0.99954724, 3.365532e-09, 4.6504514e-08, 0.030091114)
bones/11/rotation = Quaternion(-0.14131999, 4.4790702e-10, -7.08696e-09, 0.989964)
bones/12/rotation = Quaternion(0.46537304, 0.48846096, 0.7381231, -0.0028508753)
bones/13/rotation = Quaternion(-0.48039392, 1.6660898e-07, 6.768359e-08, 0.87705284)
bones/14/rotation = Quaternion(0.28563714, -0.018591808, -0.12919508, 0.94940746)
bones/15/rotation = Quaternion(0.28563714, 0.01859141, 0.12919506, 0.94940746)
bones/16/rotation = Quaternion(-0.009019746, 0.641118, 0.766993, 0.024658408)
bones/17/rotation = Quaternion(-0.5542931, 0.009603043, 0.007063641, 0.8322362)
bones/18/rotation = Quaternion(0.19175698, -0.0204129, -0.12795201, 0.97285193)
bones/19/rotation = Quaternion(0.18865204, -0.0027866003, 0.13248602, 0.9730622)
bones/20/rotation = Quaternion(0.777935, 0.39402905, 0.417762, -0.25501597)
bones/21/rotation = Quaternion(-0.40892217, 0.032386914, 0.016037608, 0.9118534)
bones/22/rotation = Quaternion(0.3521588, -0.049699377, -0.11986494, 0.92690164)
bones/23/rotation = Quaternion(0.34737787, 0.014642799, 0.133085, 0.9281178)
bones/24/rotation = Quaternion(0.36178192, 0.045631874, 0.7533288, -0.54729086)
bones/25/rotation = Quaternion(3.93465e-08, -2.4488997e-09, 0.026197696, 0.99965686)
bones/26/rotation = Quaternion(0.46514216, -0.5074481, -0.7252011, -0.014924178)
bones/27/rotation = Quaternion(-0.39962777, -1.2524295e-07, -6.048186e-08, 0.9166775)
bones/28/rotation = Quaternion(0.28563714, 0.018591808, 0.12919508, 0.94940746)
bones/29/rotation = Quaternion(0.28563714, -0.018591411, -0.12919505, 0.94940746)
bones/30/rotation = Quaternion(-0.009019838, -0.64111805, -0.76699305, 0.024658386)
bones/31/rotation = Quaternion(-0.47964996, -0.0101822, -0.0061998195, 0.87737894)
bones/32/rotation = Quaternion(0.35777795, 0.042321384, 0.12246298, 0.9247739)
bones/33/rotation = Quaternion(0.35475692, -0.020261696, -0.13095796, 0.9255198)
bones/34/rotation = Quaternion(0.7779351, -0.394029, -0.41776204, -0.255016)
bones/35/rotation = Quaternion(-0.4089222, -0.032386914, -0.016037608, 0.9118534)
bones/36/rotation = Quaternion(0.18585391, 0.028129885, 0.12667494, 0.9739715)
bones/37/rotation = Quaternion(0.180935, 0.008689679, -0.13360597, 0.97433895)
bones/38/rotation = Quaternion(0.36178195, -0.045631785, -0.75332874, -0.5472909)
bones/39/rotation = Quaternion(2.7996314e-09, -2.0516304e-09, -0.025287606, 0.9996802)

[node name="AnimationPlayer" parent="Mobbee/BeebotSkin/bee_bot" index="1"]
libraries = {
&"": SubResource("AnimationLibrary_mrxlu"),
&"custom_animations": SubResource("AnimationLibrary_dh75t")
}

[node name="AnimationTree" parent="Mobbee/BeebotSkin" index="1"]
active = false

[node name="Area3DTop" type="Area3D" parent="Mobbee"]
collision_layer = 4

[node name="BeeWeakPointBox" type="CollisionShape3D" parent="Mobbee/Area3DTop"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0033874502, 0.21229361, -0.007360339)
shape = SubResource("BoxShape3D_xvs3m")
debug_color = Color(0.47843137, 0.078431375, 0.2, 0.96862745)

[node name="Area3DBott" type="Area3D" parent="Mobbee"]
collision_layer = 4

[node name="BeeHitBox1" type="CollisionShape3D" parent="Mobbee/Area3DBott"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.06259088, -0.01480525)
shape = SubResource("CylinderShape3D_ui4nm")
debug_color = Color(0.29803923, 0.39215687, 0.9137255, 0.9372549)

[node name="BeeHitBox2" type="CollisionShape3D" parent="Mobbee/Area3DBott"]
transform = Transform3D(1, 0, -8.940697e-08, 0, 0.99999994, 0, 0, 0, 1, -0.008464575, 0.2943183, -0.24794519)
shape = SubResource("SphereShape3D_hjkvs")
debug_color = Color(0.29803923, 0.39215687, 0.9137255, 0.9372549)

[node name="CollisionRigidBody" type="CollisionShape3D" parent="Mobbee"]
transform = Transform3D(1, 0, -8.940697e-08, 0, 0.9999999, 0, 0, 0, 1, 5.5879354e-09, 0.07721542, -0.009636775)
shape = SubResource("BoxShape3D_hhh4q")

[node name="CollisionRigidHead" type="CollisionShape3D" parent="Mobbee"]
transform = Transform3D(-0.9990584, 0, -0.04356569, 0, 0.99999994, 0, 0.043565422, 0, -0.99905246, 0.0017182231, 0.34062085, -0.19636375)
shape = SubResource("SphereShape3D_hk1x7")
debug_color = Color(0.7028097, 1.1233784, 0.5943571, 0.785)

[node name="Path3D" type="Path3D" parent="."]
curve = SubResource("Curve3D_ecuma")
debug_custom_color = Color(0.6203886, 0.17170128, 0.6737458, 1)

[node name="PathFollow3D" type="PathFollow3D" parent="Path3D"]
transform = Transform3D(-0.083548985, 0, -0.9964933, 0, 1.0000015, 0, 0.9964884, 0, -0.083549395, -0.07529786, 0.25226068, 0.61367124)
progress = 17.04826
rotation_mode = 1
loop = false

[node name="RemoteTransform3D" type="RemoteTransform3D" parent="Path3D/PathFollow3D"]
remote_path = NodePath("../../../Mobbee")
update_scale = false

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_8m56a")
}
autoplay = "Patrouille"

[connection signal="area_entered" from="Mobbee/Area3DTop" to="." method="_on_area_3d_top_area_entered"]
[connection signal="area_entered" from="Mobbee/Area3DBott" to="." method="_on_area_3d_bott_area_entered"]

[editable path="Mobbee/BeebotSkin"]
[editable path="Mobbee/BeebotSkin/bee_bot"]
